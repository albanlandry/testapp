<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Test of thymeleaf</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
	</head>
	<body>
		<div class="container">
		<!-- 
			<h2>Basic Table</h2>
			<table class="table">
				    <thead>
				      <tr>
				        <th>업체명</th>
				        <th>사업자등록번호</th>
				        <th>사업주</th>
				        <th>주소</th>
				        <th>업태</th>
				        <th>종목</th>
				        <th>전화번호</th>
				        <th>팩스번호</th>
				        <th>계좌번호</th>
				        <th>담당자</th>
				        <th>최근 수주 날짜</th>
				      </tr>
				    </thead>
				    <tbody>
				    	<tr th:each="contractor, itemStat : ${contractors}">
				    		<td th:text="${contractor.company}"></td>
				    		<td th:text="${contractor.crn}"></td>
				    		<td th:text="${contractor.owner}"></td>
				    		<td th:text="${contractor.address}"></td>
				    		<td th:text="${contractor.business}"></td>
				    		<td th:text="${contractor.item}"></td>
				    		<td th:text="${contractor.tel}"></td>
				    		<td th:text="${contractor.fax}"></td>
				    		<td>
				    			<span th:text="${contractor.managers[0].name}"></span> 
				    			<span th:if="${#lists.size(contractor.managers) > 1}">
				    				<span th:text="${#lists.size(contractor.managers) - 1}"></span>명
				    			</span>
				    		</td>
				    		<td th:text="${contractor.crn}"></td>
				    		<td th:text="${contractor.lastDate}"></td>
				    	</tr>
				    </tbody>
			</table>
			-->
			<h2>수주처 현황</h2>
			<table id="tb_contractors" class="table">
				    <thead>
				      <tr>
				        <th>업체명</th>
				        <th>사업자등록번호</th>
				        <th>사업주</th>
				        <th>주소</th>
				        <th>업태</th>
				        <th>종목</th>
				        <th>전화번호</th>
				        <th>팩스번호</th>
				        <th>계좌번호</th>
				        <th>담당자</th>
				        <th>최근 수주 날짜</th>
				      </tr>
				    </thead>
				    <tbody>
				    	<tr th:each="contractor, itemStat : ${contractors}">
				    		<td th:text="${contractor.company}"></td>
				    		<td><a th:href="@{details/__${contractor.contractorNo}__}" th:text="${contractor.crn}"></a></td>
				    		<td th:text="${contractor.owner}"></td>
				    		<td th:text="${contractor.address}"></td>
				    		<td th:text="${contractor.business}"></td>
				    		<td th:text="${contractor.item}"></td>
				    		<td th:text="${contractor.tel}"></td>
				    		<td th:text="${contractor.fax}"></td>
				    		<td>
				    			<span th:text="${contractor.managers[0].name}"></span> 
				    			<span th:if="${#lists.size(contractor.managers) > 1}">
				    				<span th:text="${#lists.size(contractor.managers) - 1}"></span>명
				    			</span>
				    		</td>
				    		<td th:text="${contractor.crn}"></td>
				    		<td th:text="${contractor.lastDate}"></td>
				    	</tr>
				    </tbody>
			</table>
			<div class="row">
				<div class="col-lg-12">
					<a th:href="@{new}" class="btn btn-primary pull-left">수수처 등록</a>
				</div>
			</div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
		<script type="text/javascript">
			$(document).ready( function () {
			    $('#tb_contractors').DataTable({
			    });
			} );
		</script>
	</body>
</html>